'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _shallow = require('react-test-renderer/shallow');

var _shallow2 = _interopRequireDefault(_shallow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var renderShallow = function renderShallow(element) {
  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var renderer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new _shallow2.default();

  renderer.render(element, context);

  var output = function output() {
    return renderer.getRenderOutput();
  };

  return {
    instance: function instance() {
      return renderer.getMountedInstance();
    },

    output: output(),
    rerender: output,
    rerenderElement: function rerenderElement(newElement) {
      var newContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : context;

      return renderShallow(newElement, newContext, renderer);
    }
  };
};

exports.default = renderShallow;
